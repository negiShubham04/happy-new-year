<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Happy New Year 2026 ‚ú®</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        body {
          margin: 0;
          height: 100vh;
          overflow: hidden;
          background: radial-gradient(circle at top, #1a2a6c, #000);
          font-family: "Segoe UI", sans-serif;
          color: #fff;
        }
      
        canvas {
          position: fixed;
          top: 0;
          left: 0;
          z-index: 1;
        }
      
        .content {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          text-align: center;
          z-index: 2;
          padding: 25px;
          max-width: 90%;
        }
      
        h1 {
          font-size: 3rem;
          text-shadow: 0 0 20px gold;
          margin-bottom: 10px;
        }
      
        input {
          padding: 12px 16px;
          font-size: 1rem;
          border-radius: 25px;
          border: none;
          outline: none;
          width: 220px;
          text-align: center;
          margin-top: 10px;
        }
      
        button {
          margin-top: 18px;
          padding: 14px 28px;
          font-size: 1.1rem;
          border-radius: 30px;
          border: none;
          cursor: pointer;
          background: gold;
          color: #000;
          box-shadow: 0 0 15px gold;
        }
      
        .blessing, .from {
          opacity: 0;
          transition: opacity 2s ease;
          margin-top: 18px;
          line-height: 1.5;
        }
    </style>
</head>

<body>

<canvas id="canvas"></canvas>

<div class="content" id="content">
    <h1 id="title">‚ú® Happy New Year 2026 ‚ú®</h1>

    <!-- Name Input (hidden if URL has name) -->
    <div id="nameBox">
        <input id="nameInput" placeholder="Enter your name üå∏" />
        <br>
        <button id="startBtn">‚ñ∂ Click to start</button>
    </div>

    <div class="blessing" id="blessing">
        üåº May this New Year bring good health, peace, happiness
        and prosperity to you and your family üåº
    </div>

    <div class="from" id="from">
        üôè From<br>Shubham Negi
    </div>
</div>

<!-- üéµ Background Music -->
<audio id="music" preload="auto" loop>
    <source src="song.mp3" type="audio/mpeg">
</audio>

<script>
    /* ---------- Get name from URL ---------- */
    const params = new URLSearchParams(window.location.search);
    let name = params.get("name") || "";
  
    const title = document.getElementById("title");
    const nameBox = document.getElementById("nameBox");
    const music = document.getElementById("music");
  
    /* ---------- Canvas Setup ---------- */
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");
  
    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resize();
    window.addEventListener("resize", resize);
  
    function isInSafeZone(x, y) {
      const rect = document.getElementById("content").getBoundingClientRect();
      return (
        x > rect.left - 40 &&
        x < rect.right + 40 &&
        y > rect.top - 40 &&
        y < rect.bottom + 40
      );
    }
  
    /* ---------- Falling Emojis ---------- */
    const emojis = ["ü™î", "‚ú®", "‚≠ê"];
    const particles = Array.from({ length: 90 }, () => ({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      size: 16 + Math.random() * 10,
      speed: 0.4 + Math.random(),
      emoji: emojis[Math.floor(Math.random() * emojis.length)]
    }));
  
    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles.forEach(p => {
        p.y += p.speed;
        if (p.y > canvas.height) {
          p.y = -20;
          p.x = Math.random() * canvas.width;
        }
        if (!isInSafeZone(p.x, p.y)) {
          ctx.font = `${p.size}px serif`;
          ctx.fillText(p.emoji, p.x, p.y);
        }
      });
      requestAnimationFrame(animate);
    }
    animate();
  
    /* ---------- Celebration Logic ---------- */
    function startCelebration(userName) {
      if(!userName) return;
      title.innerText = `‚ú® Happy New Year ${userName} ‚ú®`;
  
      nameBox.style.display = "none";
      document.getElementById("blessing").style.opacity = 1;
      document.getElementById("from").style.opacity = 1;
  
      music.volume = 0.8;
      music.play().catch(()=>{});
    }
  
    // Case 1: Name from URL ‚Üí auto start
    if(name) {
      // Hide input box
      nameBox.style.display = "none";
  
      // Auto-start after first user tap if required (mobile)
      const startFn = () => {
        startCelebration(name);
        document.removeEventListener("pointerdown", startFn);
      };
      document.addEventListener("pointerdown", startFn, { once: true });
  
      // Optional: auto start on desktop if allowed
      window.addEventListener("load", () => startCelebration(name));
  
    } else {
      // Case 2: Ask user for name
      const startBtn = document.getElementById("startBtn");
      startBtn.addEventListener("click", () => {
        const inputName = document.getElementById("nameInput").value.trim();
        if(!inputName) {
          alert("Please enter your name üòä");
          return;
        }
        startCelebration(inputName);
      });
    }
</script>

</body>
</html>
